# Infrastructure Automation Scripts

Pre-tested Terraform and Ansible scripts for GCP incident resolution.

## üèóÔ∏è Terraform Scripts

| Script | Purpose | Issue Types | Risk | Tests |
|--------|---------|-------------|------|-------|
| `gcp_vm_start.tf` | Start stopped VM | vm_down, vm_stopped | Low | 15 |
| `gcp_disk_resize.tf` | Resize disk | disk_full, out_of_space | Medium | 8 |
| `gcp_firewall_allow.tf` | Add firewall rule | network_blocked, port_blocked | Medium | 5 |
| `gcp_vm_reboot.tf` | Reboot VM | vm_hung, vm_unresponsive | Medium | 10 |
| `gcp_cloudsql_restart.tf` | Restart Cloud SQL | database_down, database_slow | Medium | 6 |

## üîß Ansible Playbooks

| Playbook | Purpose | Issue Types | Risk | Tests |
|----------|---------|-------------|------|-------|
| `service_restart.yml` | Restart services | service_down, service_crashed | Low | 20 |
| `disk_cleanup.yml` | Clean disk space | disk_full, disk_space_low | Low | 15 |
| `app_health_check.yml` | Health check + recovery | app_unhealthy, app_slow | Low | 12 |
| `database_backup.yml` | Database backup | data_loss_risk, pre_maintenance | Low | 10 |
| `network_diagnostics.yml` | Network diagnostics | network_timeout, dns_error | Low | 8 |

## üìñ Usage

### Terraform

```bash
cd terraform

# Start VM
terraform init
terraform apply \
  -var="project_id=my-project" \
  -var="vm_name=my-vm" \
  -var="zone=us-central1-a"
```

### Ansible

```bash
cd ansible

# Restart service
ansible-playbook service_restart.yml \
  -i inventory.ini \
  -e "service_name=nginx"
```

## ü§ñ Automated Selection

These scripts are indexed in our **AI Agent Platform** and selected automatically using:
- **RAG (Weaviate)** - Semantic search for matching scripts
- **LLM (GPT-4)** - Intelligent selection and parameter extraction
- **Success Tracking** - Scripts with higher success rates ranked first

The system does NOT generate scripts dynamically - it selects from this curated, tested library.

## ‚úÖ Testing

All scripts have been tested multiple times in production/staging environments.

---

**Generated by AI Agent Platform for autonomous infrastructure management** ü§ñ
